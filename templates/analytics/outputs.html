{% extends "base.html" %}

{% block title %}Outputs · Delice{% endblock %}

{% block content %}
  <div class="row justify-content-center">
    <div class="col-12 col-lg-8">
      <div class="card p-4">
        <div class="d-flex justify-content-between align-items-center">
          <h1 class="h4 page-title mb-0">Outputs (Expense)</h1>
          <a class="btn btn-outline-dark btn-sm" href="{% url 'analytics' %}">Back</a>
        </div>

        <hr class="my-3" />

        {% if perms.analytics.add_financialentry %}
          <form method="POST" action="{% url 'outputs' %}" class="row g-3">
            {% csrf_token %}

            <div class="col-12 col-md-4">
              <label class="form-label">Amount</label>
              <input class="form-control" type="number" name="amount" placeholder="EGP" min="0" step="0.01" required>
            </div>

            <div class="col-12 col-md-8">
              <label class="form-label">Source</label>
              <input class="form-control" type="text" name="source" placeholder="Rent / Ads / etc." required>
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">Location</label>
              <select class="form-select" name="location_id">
                <option value="" selected>—</option>
                {% for location in locations %}
                  <option value="{{ location.id }}">{{ location.name }}</option>
                {% endfor %}
              </select>
            </div>

            <div class="col-12 col-md-6">
              <label class="form-label">Notes</label>
              <input class="form-control" type="text" name="notes" placeholder="Optional">
            </div>

            <div class="col-12 d-flex justify-content-end gap-2">
              <button class="btn btn-dark" type="submit">Save entry</button>
            </div>
          </form>
        {% else %}
          <div class="alert alert-warning mb-0">You don’t have permission to add entries.</div>
        {% endif %}
      </div>
    </div>
  </div>
{% endblock %}